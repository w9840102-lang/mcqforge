:root{
  --bg:#f6f8ff;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --stroke:rgba(2,6,23,.08);

  --p1:#6d28d9;
  --p2:#3b82f6;

  --good:#16a34a;
  --bad:#dc2626;

  --shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
  --r20: 20px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 18% 8%, rgba(109,40,217,.14), transparent 60%),
    radial-gradient(900px 520px at 82% 12%, rgba(59,130,246,.14), transparent 60%),
    radial-gradient(900px 520px at 50% 100%, rgba(16,185,129,.08), transparent 60%),
    var(--bg);
  overflow-x: hidden;
}

/* ============ TOPBAR ============ */
.topbar{
  position: sticky;
  top: 0;
  z-index: 30;
  background: rgba(255,255,255,.88);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--stroke);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 14px 16px;
}

.brand{
  display:flex;
  align-items:center;
  gap: 10px;
  min-width: 0;
}

.logo{
  display:flex;
  align-items:center;
  justify-content:center;
  flex: 0 0 auto;
}
.logo img{
  height: 40px;
  width: auto;
  object-fit: contain;
  display:block;
}

.brandText{ min-width:0; }
.brandTitle{
  font-weight: 950;
  font-size: 18px;
  line-height: 1.1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.brandSub{
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.topActions{
  display:flex;
  gap: 10px;
  flex: 0 0 auto;
}

/* ============ HERO ============ */
.hero{ padding: 18px 14px 8px; }
.heroInner{
  max-width: 1100px;
  margin: 0 auto;
  text-align: center;
  padding: 18px 10px 6px;
}
.badge{
  display:inline-flex;
  align-items:center;
  padding: 9px 14px;
  border-radius: 999px;
  font-size: 11px;
  letter-spacing: .12em;
  font-weight: 900;
  color: #4c1d95;
  background: linear-gradient(90deg, rgba(109,40,217,.12), rgba(59,130,246,.12));
  border: 1px solid rgba(109,40,217,.18);
}
.heroTitle{
  margin: 12px 0 8px;
  font-size: clamp(26px, 4.2vw, 44px);
  letter-spacing: -0.02em;
}
.heroSub{
  margin: 0 auto;
  max-width: 820px;
  color: var(--muted);
  font-size: 15px;
  line-height: 1.5;
}
.grad1{
  background: linear-gradient(90deg, var(--p1), #a855f7);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* ============ SHELL ============ */
.shell{
  max-width: 1100px;
  margin: 0 auto;
  padding: 14px 14px 40px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  align-items: start;
}

.card{
  background: rgba(255,255,255,.92);
  border: 1px solid var(--stroke);
  border-radius: var(--r20);
  box-shadow: var(--shadow);
  padding: 16px;
}

.cardHead{
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
}
.cardTitle{ font-size: 20px; font-weight: 950; }
.cardSub{ color: var(--muted); margin-top: 4px; font-size: 13px; line-height: 1.35; }

/* ============ CHIP ============ */
.chip{
  position: relative;
  background: linear-gradient(135deg, #6d28d9, #3b82f6);
  color: #ffffff;
  border: none;
  padding: 9px 16px;
  border-radius: 999px;
  font-weight: 900;
  font-size: 13px;
  letter-spacing: 0.3px;
  cursor: pointer;
  box-shadow:
    0 8px 18px rgba(109,40,217,.45),
    inset 0 1px 0 rgba(255,255,255,.35);
  user-select: none;
}
.chip::after{
  content:"";
  position:absolute;
  inset:2px;
  border-radius: inherit;
  background: linear-gradient(to bottom, rgba(255,255,255,.22), rgba(255,255,255,0) 55%);
  pointer-events:none;
}

/* ============ BUTTONS ============ */
.btn{
  border: 1px solid rgba(15,23,42,.10);
  background: white;
  color: var(--text);
  padding: 10px 14px;
  border-radius: 14px;
  font-weight: 900;
  cursor:pointer;
  box-shadow: 0 10px 24px rgba(15,23,42,.05);
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
  -webkit-tap-highlight-color: transparent;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(15,23,42,.08); }
.btn:active{ transform: translateY(0px) scale(.99); }

.pillBtn{
  background: rgba(99,102,241,.10);
  border-color: rgba(99,102,241,.18);
  color: #4338ca;
}

.btnPrimary{
  background: linear-gradient(135deg, var(--p1), var(--p2));
  border: none;
  color: white;
}

.btnDanger{
  background: linear-gradient(135deg, #dc2626, #ef4444);
  border: none;
  color: #ffffff;
  font-weight: 950;
  box-shadow:
    0 8px 18px rgba(220,38,38,.45),
    inset 0 1px 0 rgba(255,255,255,.35);
}

/* ============ UPLOAD ============ */
.uploadBox{
  border-radius: 18px;
  border: 2px dashed rgba(109,40,217,.25);
  background:
    radial-gradient(500px 180px at 20% 0%, rgba(109,40,217,.10), transparent 60%),
    radial-gradient(500px 180px at 80% 0%, rgba(59,130,246,.10), transparent 60%),
    rgba(255,255,255,.75);
  min-height: 210px;
  padding: 18px;
  display:grid;
  place-items:center;
  text-align:center;
  outline:none;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}
.uploadBox.drag{
  border-color: rgba(34,197,94,.45);
  box-shadow: 0 0 0 4px rgba(34,197,94,.12);
}

.uploadBig{ font-weight: 950; font-size: 18px; }
.uploadSmall{ color: var(--muted); margin-top: 6px; font-size: 13px; }

#imgPreview{
  display:none;
  max-width: 100%;
  max-height: 220px;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 18px 38px rgba(15,23,42,.10);
}

.uploadActions{
  margin-top: 10px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}

.tinyNote{ color: var(--muted); font-size: 13px; white-space: nowrap; overflow:hidden; text-overflow: ellipsis; }
.hintLine{ margin-top: 12px; color: var(--muted); font-size: 13px; line-height: 1.45; }

/* ============ Q COUNT ROW ============ */
.qRow{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,.08);
  background: rgba(15,23,42,.03);
  margin-top: 10px;
}

.qLabel{
  font-weight: 900;
  color: rgba(15,23,42,.80);
  font-size: 13px;
}

.qSelect{
  appearance: none;
  -webkit-appearance: none;
  border: 1px solid rgba(15,23,42,.10);
  background: white;
  border-radius: 999px;
  padding: 9px 38px 9px 14px;
  font-weight: 900;
  cursor: pointer;
  position: relative;
  min-width: 110px;
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(15,23,42,.55) 50%),
    linear-gradient(135deg, rgba(15,23,42,.55) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 55%,
    calc(100% - 12px) 55%;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
}

/* ============ CATEGORIES ============ */
.catGrid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-top: 12px;
}

/* Violet topic buttons */
.catBtn{
  width: 100%;
  padding: 14px 14px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-weight: 950;
  font-size: 15px;
  color: #ffffff;
  background: linear-gradient(135deg, #6d28d9, #3b82f6);
  box-shadow:
    0 8px 18px rgba(109,40,217,.42),
    inset 0 1px 0 rgba(255,255,255,.35);
  transition: transform .12s ease, filter .18s ease, box-shadow .18s ease;
  -webkit-tap-highlight-color: transparent;
}
.catBtn:hover{
  transform: translateY(-1px);
  filter: brightness(1.06);
}
.catBtn.active{
  transform: translateY(-1px) scale(1.02);
  box-shadow:
    0 0 0 4px rgba(109,40,217,.22),
    0 18px 42px rgba(109,40,217,.52),
    inset 0 1px 0 rgba(255,255,255,.45);
}

/* ============ MCQs ============ */
.mcqCard{ margin-top: 16px; }

.scoreRow{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 10px 0 10px;
}
.scoreBox{
  background: rgba(15,23,42,.04);
  border: 1px solid rgba(15,23,42,.08);
  border-radius: 16px;
  padding: 12px;
  text-align:center;
}
.scoreNum{ font-size: 22px; font-weight: 1000; }
.scoreLab{ font-size: 12px; color: var(--muted); margin-top: 2px; font-weight: 900; }

.mcqList{
  margin-top: 14px;
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.mcqItem{
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.08);
  background: rgba(255,255,255,.86);
  padding: 14px;
}

.mcqQ{
  display:flex;
  gap: 12px;
  align-items:flex-start;
  margin-bottom: 12px;
}

.qNum{
  width: 42px;
  height: 42px;
  min-width: 42px;
  border-radius: 10px;
  display:grid;
  place-items:center;
  font-weight: 1000;
  font-size: 16px;
  color: white;
  background: linear-gradient(135deg, var(--p1), var(--p2));
  box-shadow: 0 6px 14px rgba(109,40,217,.35);
}

.qText{
  font-weight: 950;
  font-size: 17px;
  line-height: 1.25;
}

.opts{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

/* ============ ULTRA PUNCH CELEBRATION ============ */
.optBtn.celebrate{
  position: relative;
  overflow: hidden;
  animation: pop 1400ms cubic-bezier(.12,.95,.25,1.25);
  will-change: transform;
}

/* BIG bounce punch */
@keyframes pop{
  0%   { transform: scale(1); }
  20%  { transform: scale(1.18); }
  45%  { transform: scale(0.94); }
  70%  { transform: scale(1.08); }
  100% { transform: scale(1); }
}

/* Strong colorful burst */
.optBtn.celebrate::before{
  content:"";
  position:absolute;
  inset:-60px;
  background:
    radial-gradient(circle at 15% 25%, rgba(59,130,246,1) 0 8px, transparent 9px),
    radial-gradient(circle at 75% 18%, rgba(109,40,217,1) 0 8px, transparent 9px),
    radial-gradient(circle at 30% 75%, rgba(34,197,94,1) 0 8px, transparent 9px),
    radial-gradient(circle at 85% 70%, rgba(245,158,11,1) 0 8px, transparent 9px),
    radial-gradient(circle at 50% 45%, rgba(236,72,153,1) 0 8px, transparent 9px),
    radial-gradient(circle at 60% 60%, rgba(14,165,233,1) 0 8px, transparent 9px);
  opacity: 0;
  pointer-events:none;
  animation: confetti 1600ms cubic-bezier(.15,.8,.25,1) forwards;
  filter: drop-shadow(0 0 6px rgba(255,255,255,.6));
}

/* Float + explode */
@keyframes confetti{
  0%   { opacity: 0; transform: translateY(40px) scale(.6); }
  20%  { opacity: 1; transform: translateY(10px) scale(1); }
  55%  { opacity: .95; transform: translateY(-20px) scale(1.15); }
  100% { opacity: 0; transform: translateY(-70px) scale(1.25); }
}

.optBtn:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(15,23,42,.08);
}
.optBtn:active{ transform: translateY(0px) scale(.99); }

.optBtn.optSelected{
  border-color: rgba(109,40,217,.35);
  box-shadow: 0 0 0 4px rgba(109,40,217,.12);
  background: rgba(109,40,217,.08);
}

.optCorrect{
  background: rgba(34,197,94,.14);
  border-color: rgba(34,197,94,.38);
}
.optCorrectSoft{
  background: rgba(34,197,94,.08);
  border-color: rgba(34,197,94,.22);
}
.optWrong{
  background: rgba(220,38,38,.12);
  border-color: rgba(220,38,38,.30);
}

.optBtn:disabled{
  cursor: not-allowed;
  opacity: 0.98;
}

.mcqFoot{
  margin-top: 10px;
  font-size: 13px;
  color: var(--muted);
  font-weight: 900;
}
.mcqFoot.ok{ color: #166534; }
.mcqFoot.bad{ color: #b91c1c; }

.emptyState{
  text-align:center;
  padding: 26px 10px;
  border-radius: 18px;
  border: 1px dashed rgba(15,23,42,.18);
  background: rgba(255,255,255,.70);
}
.emptyTitle{ font-weight: 1000; font-size: 18px; }
.emptySub{ color: var(--muted); margin-top: 6px; font-size: 13px; }

/* ============ TOAST ============ */
.toast{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  background: rgba(15,23,42,.92);
  color: white;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 900;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease, transform .2s ease;
  z-index: 99;
}
.toast.show{
  opacity: 1;
  transform: translateX(-50%) translateY(-4px);
}

/* ============ CELEBRATION ANIMATION (mobile-safe) ============ */
.optBtn.celebrate{
  position: relative;
  overflow: hidden;
  animation: pop 700ms cubic-bezier(.22,.9,.35,1.15);
}
@keyframes pop{
  0%{ transform: scale(1); }
  45%{ transform: scale(1.04); }
  100%{ transform: scale(1); }
}

.optBtn.celebrate::before{
  content:"";
  position:absolute;
  inset:-24px;
  background:
    radial-gradient(circle at 20% 30%, rgba(59,130,246,.9) 0 4px, transparent 5px),
    radial-gradient(circle at 70% 25%, rgba(109,40,217,.9) 0 4px, transparent 5px),
    radial-gradient(circle at 35% 70%, rgba(34,197,94,.9) 0 4px, transparent 5px),
    radial-gradient(circle at 80% 70%, rgba(245,158,11,.9) 0 4px, transparent 5px),
    radial-gradient(circle at 50% 50%, rgba(236,72,153,.9) 0 4px, transparent 5px);
  opacity: 0;
  pointer-events:none;
  animation: confetti 900ms ease forwards;
}
@keyframes confetti{
  0%{ opacity: 0; transform: translateY(16px) scale(.9); }
  30%{ opacity: 1; }
  100%{ opacity: 0; transform: translateY(-22px) scale(1.05); }
}

/* ============ LOADER ============ */
.loaderOverlay{
  position: fixed;
  inset: 0;
  background: rgba(15,23,42,.35);
  backdrop-filter: blur(8px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
.loaderOverlay.show{ display:flex; }

.loaderCard{
  background: rgba(255,255,255,.94);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 18px;
  padding: 18px 18px;
  box-shadow: 0 18px 48px rgba(15,23,42,.18);
  display: grid;
  gap: 10px;
  min-width: 260px;
  max-width: 320px;
}

.loaderTopRow{
  display:flex;
  align-items:center;
  gap: 12px;
}

.spinner{
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 4px solid rgba(109,40,217,.18);
  border-top-color: rgba(109,40,217,.95);
  animation: spin .85s linear infinite;
}
@keyframes spin{
  from{ transform: rotate(0deg); }
  to{ transform: rotate(360deg); }
}

.loaderText{
  font-weight: 950;
  color: #0f172a;
  font-size: 14px;
}

.loaderBar{
  width: 100%;
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(15,23,42,.10);
  border: 1px solid rgba(15,23,42,.08);
}
.loaderBarFill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--p1), var(--p2));
  transition: width .18s ease;
}

.loaderTip{
  font-size: 12px;
  color: rgba(15,23,42,.70);
  font-weight: 900;
}

/* ============ RESPONSIVE (PHONE FIX) ============ */
@media (max-width: 920px){
  .grid2{ grid-template-columns: 1fr; }
  .scoreRow{ grid-template-columns: repeat(2, 1fr); }
  .opts{ grid-template-columns: 1fr; }
}

@media (max-width: 420px){
  .topbar{ padding: 12px 12px; }
  .logo img{ height: 36px; }
  .btn{ padding: 9px 12px; border-radius: 12px; }
  .card{ padding: 14px; }
  .catGrid{ grid-template-columns: 1fr; }
  .qSelect{ min-width: 96px; }
}

/* =========================
   PHONE FULL-WIDTH FIX
   ========================= */
@media (max-width: 520px){

  /* make the page use full screen width */
  .shell{
    padding: 10px 10px 28px;   /* smaller side padding */
    max-width: 100%;
  }

  /* cards become full width + clean spacing */
  .card{
    padding: 14px;
    border-radius: 18px;
  }

  /* remove extra horizontal gaps */
  .grid2{
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* MCQ card should feel full width */
  .mcqCard{
    margin-top: 12px;
  }

  /* Upload box shouldnâ€™t be too tall */
  .uploadBox{
    min-height: 180px;
    padding: 14px;
  }

  #imgPreview{
    max-height: 180px;
  }

  /* Score boxes should fit better */
  .scoreRow{
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
}
html, body{
  width: 100%;
  overflow-x: hidden;
}

main, section{
  width: 100%;
}

/* ===== PATCH: MCQ options fixed + stronger animations ===== */

.optBtn{
  width: 100%;
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.optLetter{
  font-weight: 1000;
  min-width: 22px;
}

.optText{
  flex: 1;
  line-height: 1.25;
}

/* Stronger correct/wrong look */
.optCorrect{
  background: rgba(34,197,94,.22) !important;
  border-color: rgba(34,197,94,.55) !important;
  box-shadow: 0 10px 26px rgba(34,197,94,.20);
}
.optWrong{
  background: rgba(220,38,38,.18) !important;
  border-color: rgba(220,38,38,.50) !important;
  box-shadow: 0 10px 26px rgba(220,38,38,.16);
}
.optCorrectSoft{
  background: rgba(34,197,94,.10) !important;
  border-color: rgba(34,197,94,.28) !important;
}

/* Longer + more visible celebration */
.optBtn.celebrate{
  animation: popStrong 1050ms cubic-bezier(.18,.95,.25,1.15);
  position: relative;
  overflow: hidden;
}
@keyframes popStrong{
  0%   { transform: scale(1); }
  35%  { transform: scale(1.06); }
  65%  { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.optBtn.celebrate::before{
  content:"";
  position:absolute;
  inset:-30px;
  background:
    radial-gradient(circle at 18% 28%, rgba(59,130,246,.95) 0 5px, transparent 6px),
    radial-gradient(circle at 72% 22%, rgba(109,40,217,.95) 0 5px, transparent 6px),
    radial-gradient(circle at 30% 72%, rgba(34,197,94,.95) 0 5px, transparent 6px),
    radial-gradient(circle at 82% 72%, rgba(245,158,11,.95) 0 5px, transparent 6px),
    radial-gradient(circle at 50% 50%, rgba(236,72,153,.95) 0 5px, transparent 6px);
  opacity: 0;
  pointer-events:none;
  animation: confettiStrong 1300ms ease forwards;
}
@keyframes confettiStrong{
  0%   { opacity: 0; transform: translateY(18px) scale(.92); }
  25%  { opacity: 1; }
  100% { opacity: 0; transform: translateY(-34px) scale(1.08); }
}

/* Wrong shake */
.shakeWrong{
  animation: shake 520ms ease;
}
@keyframes shake{
  0%{ transform: translateX(0); }
  20%{ transform: translateX(-5px); }
  40%{ transform: translateX(5px); }
  60%{ transform: translateX(-4px); }
  80%{ transform: translateX(4px); }
  100%{ transform: translateX(0); }
}
/* ================================
   RESTORE OLD PREMIUM OPTION BOXES
   (keep green/red + animation)
   Paste at bottom of styles.css
================================ */

/* back to your old clean button look */
.optBtn{
  display: block !important;           /* remove flat flex look */
  width: 100%;
  text-align: left;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(248,250,252,.88);
  border-radius: 16px;
  padding: 12px 14px;
  font-weight: 900;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
  -webkit-tap-highlight-color: transparent;
}

/* keep your old hover feel */
.optBtn:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(15,23,42,.08);
}
.optBtn:active{ transform: translateY(0px) scale(.99); }

/* put A. + text on one line like before */
.optLetter{
  display: inline-block !important;
  font-weight: 1000;
  margin-right: 10px;
}
.optText{
  display: inline !important;
  line-height: 1.25;
}

/* keep your original selected style */
.optBtn.optSelected{
  border-color: rgba(109,40,217,.35);
  box-shadow: 0 0 0 4px rgba(109,40,217,.12);
  background: rgba(109,40,217,.08);
}

/* correct/wrong still strong + professional */
.optCorrect{
  background: rgba(34,197,94,.18) !important;
  border-color: rgba(34,197,94,.45) !important;
}
.optCorrectSoft{
  background: rgba(34,197,94,.10) !important;
  border-color: rgba(34,197,94,.28) !important;
}
.optWrong{
  background: rgba(220,38,38,.14) !important;
  border-color: rgba(220,38,38,.40) !important;
}

/* disabled should still look premium */
.optBtn:disabled{
  opacity: 0.98;
  cursor: not-allowed;
}
/* ==========================================
   ULTRA PUNCH CORRECT ANIMATION ðŸ”¥
========================================== */

.optBtn.celebrate{
  position: relative;
  overflow: hidden;
  animation: punchPop 420ms cubic-bezier(.18,.9,.28,1.25);
  box-shadow:
    0 0 0 0 rgba(34,197,94,.0),
    0 0 28px rgba(34,197,94,.45);
}

/* ðŸ’¥ Punch scale effect */
@keyframes punchPop{
  0%   { transform: scale(1); }
  35%  { transform: scale(1.14); }
  65%  { transform: scale(0.96); }
  100% { transform: scale(1); }
}

/* âœ¨ Flash glow */
.optBtn.celebrate::after{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(34,197,94,.55), transparent 70%);
  opacity: 0;
  animation: glowFlash 520ms ease-out;
  pointer-events:none;
}

@keyframes glowFlash{
  0%   { opacity: 0; transform: scale(.6); }
  40%  { opacity: .9; transform: scale(1.05); }
  100% { opacity: 0; transform: scale(1.4); }
}

/* ðŸŽ‰ Strong confetti */
.optBtn.celebrate::before{
  content:"";
  position:absolute;
  inset:-32px;
  background:
    radial-gradient(circle at 15% 25%, #22c55e 0 5px, transparent 6px),
    radial-gradient(circle at 70% 20%, #3b82f6 0 5px, transparent 6px),
    radial-gradient(circle at 40% 80%, #a855f7 0 5px, transparent 6px),
    radial-gradient(circle at 85% 65%, #facc15 0 5px, transparent 6px),
    radial-gradient(circle at 55% 50%, #ec4899 0 5px, transparent 6px);
  opacity: 0;
  pointer-events:none;
  animation: confettiBoom 700ms ease-out forwards;
}

@keyframes confettiBoom{
  0%   { opacity: 0; transform: translateY(18px) scale(.6); }
  30%  { opacity: 1; }
  100% { opacity: 0; transform: translateY(-26px) scale(1.2); }
}

/* ================================
   REWARDS: banner + streak glow + rain
================================ */

.rewardBanner{
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%) translateY(-14px);
  background: rgba(15,23,42,.92);
  color: #fff;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 950;
  opacity: 0;
  pointer-events: none;
  z-index: 99999;
  transition: opacity .18s ease, transform .18s ease;
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
}
.rewardBanner.show{
  opacity: 1;
  transform: translateX(-50%) translateY(0px);
}

/* ðŸ’Ž streak glow effect */
.streakGlow{
  animation: streakGlow 900ms ease;
}
@keyframes streakGlow{
  0%   { box-shadow: 0 0 0 rgba(34,197,94,0); transform: scale(1); }
  30%  { box-shadow: 0 0 0 6px rgba(34,197,94,.22), 0 0 26px rgba(34,197,94,.35); transform: scale(1.03); }
  100% { box-shadow: 0 0 0 rgba(34,197,94,0); transform: scale(1); }
}

/* â˜” Perfect score rain layer */
.rainLayer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 99998;
}

.rainItem{
  position: absolute;
  top: -40px;
  font-size: 22px;
  opacity: 0.95;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.15));
  animation: rainFall var(--dur) linear forwards;
}

@keyframes rainFall{
  from { transform: translateY(-40px) rotate(0deg); opacity: 1; }
  to   { transform: translateY(110vh) rotate(220deg); opacity: 0; }
}
